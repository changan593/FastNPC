# FastNPC ç§»åŠ¨ç«¯é€‚é… - å…·ä½“ä»£ç ä¿®å¤ç¤ºä¾‹

> æœ¬æ–‡æ¡£æä¾›å®Œæ•´çš„ä»£ç ä¿®å¤ç¤ºä¾‹ï¼Œå¯ç›´æ¥å¤åˆ¶ä½¿ç”¨

---

## æ–‡ä»¶1: web/fastnpc-web/src/App.tsx

### ä¿®æ”¹ä½ç½®1: ç¬¬318è¡Œï¼ˆç¾¤èŠè§†å›¾ï¼‰

```typescript
// âŒ ä¿®æ”¹å‰
<button className="mobile-menu-btn" onClick={() => setShowMobileSidebar(true)} style={{ display: 'none' }}>
  â˜°
</button>

// âœ… ä¿®æ”¹å
<button className="mobile-menu-btn" onClick={() => setShowMobileSidebar(true)}>
  â˜°
</button>
```

### ä¿®æ”¹ä½ç½®2: ç¬¬434è¡Œï¼ˆå•èŠè§†å›¾ï¼‰

```typescript
// âŒ ä¿®æ”¹å‰
<button className="mobile-menu-btn" onClick={() => setShowMobileSidebar(true)} style={{ display: 'none' }}>
  â˜°
</button>

// âœ… ä¿®æ”¹å
<button className="mobile-menu-btn" onClick={() => setShowMobileSidebar(true)}>
  â˜°
</button>
```

### æ·»åŠ : é”®ç›˜é®æŒ¡å¤„ç†ï¼ˆåœ¨ç¬¬200è¡Œé™„è¿‘ï¼Œå…¶ä»–useEffectä¹‹åï¼‰

```typescript
// å¤„ç†ç§»åŠ¨ç«¯é”®ç›˜é®æŒ¡è¾“å…¥æ¡†
useEffect(() => {
  if (typeof window === 'undefined' || typeof window.visualViewport === 'undefined') {
    return
  }
  
  const handleViewportResize = () => {
    const viewportHeight = window.visualViewport?.height || 0
    const windowHeight = window.innerHeight
    const isKeyboardOpen = viewportHeight < windowHeight * 0.75
    
    if (isKeyboardOpen && chatBodyRef.current) {
      setTimeout(() => {
        if (chatBodyRef.current) {
          chatBodyRef.current.scrollTo({
            top: chatBodyRef.current.scrollHeight,
            behavior: 'smooth'
          })
        }
      }, 300)
    }
  }
  
  window.visualViewport?.addEventListener('resize', handleViewportResize)
  
  return () => {
    window.visualViewport?.removeEventListener('resize', handleViewportResize)
  }
}, [])
```

---

## æ–‡ä»¶2: web/fastnpc-web/index.html

### å®Œæ•´æ–‡ä»¶å†…å®¹

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  
  <!-- âœ… ç§»åŠ¨ç«¯viewporté…ç½® -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  
  <title>FastNPC - AIè§’è‰²å¯¹è¯å¹³å°</title>
</head>
<body>
  <div id="root"></div>
  
  <!-- âœ… å¼€å‘ç¯å¢ƒï¼šç§»åŠ¨ç«¯è°ƒè¯•å·¥å…·ï¼ˆå¯é€‰ï¼‰ -->
  <script>
    // ä»…åœ¨localhostå¯ç”¨è°ƒè¯•å·¥å…·
    if (location.hostname === 'localhost' || location.hostname === '127.0.0.1') {
      const script = document.createElement('script')
      script.src = 'https://cdn.jsdelivr.net/npm/eruda'
      script.onload = () => {
        if (window.eruda) {
          window.eruda.init()
          console.log('Erudaè°ƒè¯•å·¥å…·å·²å¯åŠ¨')
        }
      }
      document.body.appendChild(script)
    }
  </script>
  
  <script type="module" src="/src/main.tsx"></script>
</body>
</html>
```

---

## æ–‡ä»¶3: web/fastnpc-web/src/styles/responsive.css

### åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ ï¼ˆç¬¬1è¡Œï¼‰

```css
/* ========================================
   å“åº”å¼è®¾è®¡ - Mobile Responsive
   ======================================== */

/* ===== é»˜è®¤çŠ¶æ€ï¼ˆæ¡Œé¢ç«¯ï¼‰===== */
.mobile-overlay {
  display: none;  /* âœ… æ¡Œé¢ç«¯é»˜è®¤éšè— */
}

.mobile-menu-btn {
  display: none;  /* âœ… æ¡Œé¢ç«¯é»˜è®¤éšè— */
}
```

### åœ¨ @media (max-width: 768px) å—ä¸­æ·»åŠ /ä¿®æ”¹

```css
/* ========== ç§»åŠ¨ç«¯é€‚é…ï¼ˆ768px ä»¥ä¸‹ï¼‰========== */
@media (max-width: 768px) {
  /* ===== ä¸»å¸ƒå±€ ===== */
  .layout {
    grid-template-columns: 1fr;
    padding: 0;
    gap: 0;
  }
  
  /* ===== é®ç½©å±‚ ===== */
  .mobile-overlay {
    display: none;  /* âœ… é»˜è®¤éšè— */
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 999;
    pointer-events: auto;
  }
  
  .layout.mobile-sidebar-open .mobile-overlay {
    display: block;  /* âœ… ä¾§è¾¹æ æ‰“å¼€æ—¶æ˜¾ç¤º */
  }
  
  /* ===== ä¾§è¾¹æ æŠ½å±‰æ•ˆæœ ===== */
  .sidebar {
    position: fixed;
    top: 0;
    left: -100%;
    width: 80%;
    max-width: 320px;
    height: 100%;
    z-index: 1000;
    transition: left var(--transition-slow);
    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.15);
  }
  
  .layout.mobile-sidebar-open .sidebar {
    left: 0;
  }
  
  /* ===== æ±‰å ¡èœå•æŒ‰é’® ===== */
  .mobile-menu-btn {
    display: flex !important;  /* âœ… ç§»åŠ¨ç«¯æ˜¾ç¤º */
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    background: #fff;
    cursor: pointer;
    margin-right: var(--spacing-sm);
    font-size: 20px;
    padding: 0;
    min-width: 36px;
    min-height: 36px;
  }
  
  /* ===== è§¦æ‘¸ä¼˜åŒ– ===== */
  
  /* å¢åŠ æŒ‰é’®è§¦æ‘¸åŒºåŸŸï¼ˆæœ€å°44pxï¼‰ */
  button, 
  a, 
  .clickable {
    min-width: 44px;
    min-height: 44px;
  }
  
  /* ç§»é™¤ç‚¹å‡»é«˜äº®ï¼ˆé¿å…é—ªçƒï¼‰ */
  * {
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }
  
  /* è¾“å…¥æ¡†å’Œå¯ç¼–è¾‘å†…å®¹å…è®¸é€‰æ‹© */
  input, 
  textarea, 
  [contenteditable="true"] {
    -webkit-user-select: text;
    user-select: text;
  }
  
  /* æ»šåŠ¨ä¼˜åŒ–ï¼ˆiOSæƒ¯æ€§æ»šåŠ¨ï¼‰ */
  .chat-body,
  .role-list,
  .info-content,
  .admin-content {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
  
  /* é˜²æ­¢iOSè‡ªåŠ¨ç¼©æ”¾è¾“å…¥æ¡† */
  input, 
  textarea, 
  select {
    font-size: 16px !important;
  }
  
  /* ===== éšè—å³ä¾§ä¿¡æ¯æ  ===== */
  .group-info-panel,
  .single-chat-info {
    display: none !important;
  }
  
  /* ===== èŠå¤©åŒºé¡¶éƒ¨ ===== */
  .chat-head {
    padding: 10px var(--spacing-md);
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
  }
  
  .chat-head .title {
    flex: 1;
    font-size: var(--font-size-lg);
  }
  
  /* ===== èŠå¤©æ¶ˆæ¯ ===== */
  .msg .bubble {
    max-width: 85%;
  }
  
  /* ===== ç¾¤èŠæ¶ˆæ¯é€‚é… ===== */
  .group-msg-item {
    padding: var(--spacing-sm);
  }
  
  .group-msg-item .avatar {
    width: 36px;
    height: 36px;
    font-size: 20px;
  }
  
  .group-msg-item .sender-name {
    font-size: 13px;
  }
  
  .group-msg-item .bubble {
    font-size: var(--font-size-base);
    padding: var(--spacing-sm) 10px;
    max-width: 80%;
  }
  
  /* ===== èŠå¤©è¾“å…¥æ¡† ===== */
  .chat-input {
    padding: 10px var(--spacing-md);
  }
  
  .chat-input input {
    font-size: var(--font-size-md);
    flex: 1;
  }
  
  .chat-input button {
    padding: var(--spacing-sm) 14px;
  }
  
  /* ===== çŠ¶æ€æ  ===== */
  .status-bar {
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: 13px;
  }
  
  /* ===== ä¾§è¾¹æ åˆ—è¡¨ ===== */
  .role-list li {
    padding: var(--spacing-md) var(--spacing-lg);
    min-height: 60px;
  }
  
  .role-list .name {
    font-size: var(--font-size-base);
  }
  
  .role-list .time {
    font-size: var(--font-size-xs);
  }
  
  /* ===== åº•éƒ¨åˆ›å»ºæŒ‰é’® ===== */
  .sidebar .fab-container {
    left: var(--spacing-sm);
    bottom: var(--spacing-sm);
  }
  
  .sidebar .fab-container .fab {
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: 14px;
    min-height: 44px;
  }
  
  /* ===== å¯¹è¯æ¡†é€‚é… ===== */
  .dialog {
    width: 92vw;
    max-width: none;
    max-height: 85vh;
    overflow: auto;
  }
  
  /* ===== ä¸Šä¸‹æ–‡èœå• ===== */
  .ctx-menu {
    min-width: 160px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
    border-radius: 12px;
  }
  
  .ctx-menu button {
    padding: 14px 20px;
    font-size: 16px;
    min-height: 48px;
  }
  
  .ctx-menu button:active {
    background: var(--color-gray-200);
  }
  
  /* ===== ç®¡ç†å‘˜ç•Œé¢ ===== */
  .admin-header {
    flex-direction: column;
    align-items: stretch;
    padding: var(--spacing-md);
    gap: var(--spacing-sm);
  }
  
  .admin-tabs {
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  .admin-tabs button {
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: 13px;
    white-space: nowrap;
  }
  
  .admin-actions {
    flex-direction: column;
    gap: var(--spacing-sm);
  }
  
  .admin-search {
    width: 100%;
    min-width: auto;
  }
  
  .admin-content {
    padding: var(--spacing-md);
  }
  
  /* ===== è¡¨æ ¼æ”¹ä¸ºå¡ç‰‡å¼ ===== */
  .admin-table {
    display: none;
  }
  
  .admin-card-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
  }
  
  .admin-card {
    background: #fff;
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    padding: var(--spacing-md);
    box-shadow: var(--shadow-sm);
  }
  
  /* ===== åé¦ˆå¼¹çª—é€‚é… ===== */
  .feedback-dialog {
    width: 95vw !important;
    max-width: none;
  }
  
  .feedback-header {
    padding: var(--spacing-lg);
  }
  
  .feedback-tabs {
    padding: 0 var(--spacing-lg);
  }
  
  .feedback-tabs button {
    padding: var(--spacing-md) var(--spacing-lg);
    font-size: var(--font-size-base);
  }
  
  .feedback-content {
    padding: var(--spacing-lg);
  }
  
  .feedback-actions {
    padding: var(--spacing-md) var(--spacing-lg);
  }
}

/* ========== æ¨ªå±æ¨¡å¼ä¼˜åŒ– ========== */
@media (max-width: 768px) and (orientation: landscape) {
  .chat-head {
    padding: 8px 12px;
  }
  
  .chat-input {
    padding: 8px 12px;
  }
  
  .mobile-menu-btn {
    width: 32px;
    height: 32px;
    font-size: 18px;
  }
  
  .sidebar {
    max-width: 280px;
  }
}
```

---

## æ–‡ä»¶4: web/fastnpc-web/src/components/Sidebar.tsx

### ä¿®æ”¹: æ·»åŠ é•¿æŒ‰æ”¯æŒ

åœ¨ç»„ä»¶é¡¶éƒ¨æ·»åŠ çŠ¶æ€ï¼š

```typescript
import { useState } from 'react'
import type { CharacterItem, GroupItem } from '../types'
import { useCharacter } from '../contexts/CharacterContext'

export function Sidebar({...props}) {
  const [q, setQ] = useState('')
  const [sort, setSort] = useState<'updated' | 'alpha'>('updated')
  
  // âœ… æ·»åŠ é•¿æŒ‰ç›¸å…³çŠ¶æ€
  const [pressTimer, setPressTimer] = useState<number | null>(null)
  
  const { 
    menuVisible, setMenuVisible, 
    menuPos, setMenuPos, 
    menuRole, setMenuRole, 
    renaming, setRenaming, 
    newName, setNewName, 
    renameRole, deleteRole, copyRole 
  } = useCharacter()
  
  // ... å…¶ä»–ä»£ç 
}
```

ä¿®æ”¹åˆ—è¡¨é¡¹ï¼ˆåœ¨ return çš„ ul.role-list ä¸­ï¼‰ï¼š

```typescript
<ul className="role-list">
  {filteredItems.map(item => (
    <li
      key={`${item.type}-${item.type === 'character' ? item.data.role : item.data.id}`}
      className={
        (item.type === 'character' && activeType === 'character' && item.data.role === activeRole) ||
        (item.type === 'group' && activeType === 'group' && item.data.id === activeGroupId)
          ? 'active'
          : ''
      }
      
      {/* âœ… ä¿ç•™å³é”®èœå•ï¼ˆæ¡Œé¢ç«¯ï¼‰ */}
      onContextMenu={e => {
        if (item.type === 'character') {
          e.preventDefault()
          setMenuRole(item.data.role)
          setMenuPos({ x: e.clientX, y: e.clientY })
          setMenuVisible(true)
        }
      }}
      
      {/* âœ… æ·»åŠ é•¿æŒ‰æ”¯æŒï¼ˆç§»åŠ¨ç«¯ï¼‰ */}
      onTouchStart={e => {
        if (item.type === 'character') {
          const timer = window.setTimeout(() => {
            // è§¦å‘éœ‡åŠ¨åé¦ˆï¼ˆå¦‚æœæ”¯æŒï¼‰
            if ('vibrate' in navigator) {
              navigator.vibrate(50)
            }
            
            const touch = e.touches[0]
            setMenuRole(item.data.role)
            setMenuPos({ x: touch.clientX, y: touch.clientY })
            setMenuVisible(true)
          }, 500)  // é•¿æŒ‰500ms
          
          setPressTimer(timer)
        }
      }}
      onTouchEnd={() => {
        if (pressTimer) {
          clearTimeout(pressTimer)
          setPressTimer(null)
        }
      }}
      onTouchMove={() => {
        if (pressTimer) {
          clearTimeout(pressTimer)
          setPressTimer(null)
        }
      }}
    >
      <div
        className="row"
        onClick={() => {
          if (item.type === 'character') {
            setActiveType('character')
            setActiveRole(item.data.role)
            setActiveGroupId(null)
          } else {
            setActiveType('group')
            setActiveGroupId(item.data.id)
            setActiveRole('')
          }
        }}
      >
        {/* ... åˆ—è¡¨é¡¹å†…å®¹ */}
      </div>
    </li>
  ))}
</ul>
```

---

## æµ‹è¯•è„šæœ¬

åˆ›å»ºä¸€ä¸ªæµ‹è¯•æ–‡ä»¶ç”¨äºå¿«é€ŸéªŒè¯ï¼š

### æ–‡ä»¶: web/fastnpc-web/public/mobile-test.html

```html
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: system-ui, sans-serif;
    }
    
    .test-section {
      margin-bottom: 30px;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 8px;
    }
    
    .test-button {
      min-width: 44px;
      min-height: 44px;
      padding: 12px 16px;
      margin: 5px;
      border: 1px solid #2563eb;
      background: #2563eb;
      color: white;
      border-radius: 6px;
      font-size: 16px;
      -webkit-tap-highlight-color: transparent;
    }
    
    .test-button:active {
      background: #1d4ed8;
    }
    
    .log {
      margin-top: 10px;
      padding: 10px;
      background: #f5f5f5;
      border-radius: 4px;
      font-size: 14px;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .success {
      color: green;
    }
    
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <h1>FastNPC ç§»åŠ¨ç«¯é€‚é…æµ‹è¯•</h1>
  
  <div class="test-section">
    <h2>1. Viewport æµ‹è¯•</h2>
    <p>å±å¹•å®½åº¦: <span id="screen-width"></span>px</p>
    <p>è§†å£å®½åº¦: <span id="viewport-width"></span>px</p>
    <p>è®¾å¤‡åƒç´ æ¯”: <span id="device-pixel-ratio"></span></p>
    <p class="success" id="viewport-result"></p>
  </div>
  
  <div class="test-section">
    <h2>2. è§¦æ‘¸äº‹ä»¶æµ‹è¯•</h2>
    <button class="test-button" id="touch-btn">é•¿æŒ‰æˆ‘ï¼ˆ0.5ç§’ï¼‰</button>
    <div class="log" id="touch-log"></div>
  </div>
  
  <div class="test-section">
    <h2>3. é”®ç›˜æµ‹è¯•</h2>
    <input type="text" placeholder="ç‚¹å‡»è¾“å…¥ï¼Œè§‚å¯Ÿé”®ç›˜å¼¹å‡º" id="keyboard-input" 
           style="width: 100%; padding: 12px; font-size: 16px; border: 1px solid #ddd; border-radius: 4px;">
    <div class="log" id="keyboard-log"></div>
  </div>
  
  <div class="test-section">
    <h2>4. æ»šåŠ¨æµ‹è¯•</h2>
    <div style="height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; -webkit-overflow-scrolling: touch;">
      <p>æ»šåŠ¨å†…å®¹æµ‹è¯•</p>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <p>Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco.</p>
      <p>Duis aute irure dolor in reprehenderit in voluptate velit.</p>
      <p>Excepteur sint occaecat cupidatat non proident.</p>
      <p>Sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      <p>æµ‹è¯•ç»“æŸ</p>
    </div>
  </div>
  
  <div class="test-section">
    <h2>5. éœ‡åŠ¨åé¦ˆæµ‹è¯•</h2>
    <button class="test-button" id="vibrate-btn">æµ‹è¯•éœ‡åŠ¨</button>
    <div class="log" id="vibrate-log"></div>
  </div>
  
  <script>
    // 1. Viewportæµ‹è¯•
    document.getElementById('screen-width').textContent = screen.width
    document.getElementById('viewport-width').textContent = window.innerWidth
    document.getElementById('device-pixel-ratio').textContent = window.devicePixelRatio
    
    if (window.innerWidth <= 768) {
      document.getElementById('viewport-result').textContent = 'âœ… ç§»åŠ¨ç«¯è§†å£æ­£å¸¸'
    } else {
      document.getElementById('viewport-result').textContent = 'âš ï¸ å½“å‰ä¸ºæ¡Œé¢ç«¯'
      document.getElementById('viewport-result').className = 'error'
    }
    
    // 2. è§¦æ‘¸äº‹ä»¶æµ‹è¯•
    const touchBtn = document.getElementById('touch-btn')
    const touchLog = document.getElementById('touch-log')
    let touchTimer = null
    
    function addLog(element, message) {
      const time = new Date().toLocaleTimeString()
      element.innerHTML += `<div>[${time}] ${message}</div>`
      element.scrollTop = element.scrollHeight
    }
    
    touchBtn.addEventListener('touchstart', (e) => {
      addLog(touchLog, 'ğŸ‘† è§¦æ‘¸å¼€å§‹')
      touchTimer = setTimeout(() => {
        addLog(touchLog, 'âœ… é•¿æŒ‰æˆåŠŸï¼ï¼ˆ0.5ç§’ï¼‰')
        if ('vibrate' in navigator) {
          navigator.vibrate(50)
        }
      }, 500)
    })
    
    touchBtn.addEventListener('touchend', () => {
      if (touchTimer) {
        clearTimeout(touchTimer)
        addLog(touchLog, 'ğŸ”š è§¦æ‘¸ç»“æŸ')
      }
    })
    
    touchBtn.addEventListener('touchmove', () => {
      if (touchTimer) {
        clearTimeout(touchTimer)
        addLog(touchLog, 'â†”ï¸ è§¦æ‘¸ç§»åŠ¨ï¼Œé•¿æŒ‰å–æ¶ˆ')
      }
    })
    
    // 3. é”®ç›˜æµ‹è¯•
    const keyboardInput = document.getElementById('keyboard-input')
    const keyboardLog = document.getElementById('keyboard-log')
    
    if (window.visualViewport) {
      window.visualViewport.addEventListener('resize', () => {
        const height = window.visualViewport.height
        const windowHeight = window.innerHeight
        
        if (height < windowHeight * 0.75) {
          addLog(keyboardLog, 'âŒ¨ï¸ é”®ç›˜å·²å¼¹å‡º')
        } else {
          addLog(keyboardLog, 'âœ… é”®ç›˜å·²æ”¶èµ·')
        }
      })
    } else {
      addLog(keyboardLog, 'âš ï¸ visualViewport APIä¸æ”¯æŒ')
    }
    
    // 5. éœ‡åŠ¨æµ‹è¯•
    const vibrateBtn = document.getElementById('vibrate-btn')
    const vibrateLog = document.getElementById('vibrate-log')
    
    vibrateBtn.addEventListener('click', () => {
      if ('vibrate' in navigator) {
        navigator.vibrate([100, 50, 100])
        addLog(vibrateLog, 'âœ… éœ‡åŠ¨åé¦ˆå·²è§¦å‘')
      } else {
        addLog(vibrateLog, 'âŒ å½“å‰è®¾å¤‡ä¸æ”¯æŒéœ‡åŠ¨API')
      }
    })
    
    // åˆå§‹åŒ–æ—¥å¿—
    addLog(touchLog, 'ç­‰å¾…è§¦æ‘¸äº‹ä»¶...')
    addLog(keyboardLog, 'ç­‰å¾…é”®ç›˜äº‹ä»¶...')
    addLog(vibrateLog, 'ç‚¹å‡»æŒ‰é’®æµ‹è¯•éœ‡åŠ¨')
  </script>
</body>
</html>
```

### ä½¿ç”¨æ–¹æ³•

1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨åè®¿é—®: `http://localhost:5173/mobile-test.html`
2. åœ¨çœŸæœºä¸Šæµ‹è¯•å„é¡¹åŠŸèƒ½
3. æŸ¥çœ‹æ—¥å¿—è¾“å‡ºï¼Œç¡®è®¤åŠŸèƒ½æ­£å¸¸

---

## å¿«é€Ÿåº”ç”¨æ‰€æœ‰ä¿®å¤

### æ–¹æ³•1: æ‰‹åŠ¨å¤åˆ¶

æŒ‰ç…§ä¸Šè¿°æ–‡ä»¶é€ä¸ªä¿®æ”¹ï¼Œå¤åˆ¶ä»£ç åˆ°å¯¹åº”ä½ç½®ã€‚

### æ–¹æ³•2: ä½¿ç”¨Git Patchï¼ˆæ¨èï¼‰

å¦‚æœä½ ç†Ÿæ‚‰Gitï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªpatchæ–‡ä»¶ï¼š

```bash
# åˆ›å»ºåˆ†æ”¯
git checkout -b mobile-fix

# åº”ç”¨æ‰€æœ‰ä¿®æ”¹
# ï¼ˆæ‰‹åŠ¨ä¿®æ”¹æ–‡ä»¶ï¼‰

# æäº¤æ›´æ”¹
git add .
git commit -m "ç§»åŠ¨ç«¯é€‚é…ä¿®å¤: P0ç´§æ€¥ä¿®å¤"

# ç”Ÿæˆpatch
git format-patch main --stdout > mobile-fix.patch

# åº”ç”¨patchï¼ˆåœ¨å…¶ä»–ç¯å¢ƒï¼‰
git apply mobile-fix.patch
```

---

**å®Œæˆä»¥ä¸Šä¿®å¤åï¼Œè¯·è¿è¡Œç§»åŠ¨ç«¯æµ‹è¯•ç¡®ä¿ä¸€åˆ‡æ­£å¸¸ï¼** âœ…

