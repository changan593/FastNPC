# æµ‹è¯•æ‰§è¡Œæ ‡ç­¾é¡µå®ç°æ€»ç»“

## å®æ–½æ—¥æœŸ
2025-10-19

## æ¦‚è¿°
æˆåŠŸå®ç°äº†æç¤ºè¯ç®¡ç†ç•Œé¢çš„ç¬¬å››ä¸ªæ ‡ç­¾é¡µ"æµ‹è¯•æ‰§è¡Œ"ï¼Œå®ç°äº†å®Œæ•´çš„æµ‹è¯•é…ç½®ã€æ‰§è¡Œã€æ¢å¤å’Œç»“æœå±•ç¤ºåŠŸèƒ½ã€‚

## å®ç°å†…å®¹

### 1. å‰ç«¯é‡æ„

#### 1.1 ç±»å‹å®šä¹‰ï¼ˆtypes.tsï¼‰
æ–°å¢ç±»å‹æ¥å£ï¼š
- `TestConfig`: æµ‹è¯•é…ç½®æ¥å£
- `TestExecutionResult`: æµ‹è¯•æ‰§è¡Œç»“æœæ¥å£ï¼ˆæ‰©å±•TestExecutionï¼‰
- `ParsedEvaluationResult`: è§£æåçš„è¯„ä¼°ç»“æœæ¥å£

#### 1.2 æ ·å¼ï¼ˆPromptManagementModal.cssï¼‰
æ·»åŠ äº†375è¡ŒCSSæ ·å¼ï¼ŒåŒ…æ‹¬ï¼š
- æµ‹è¯•æ‰§è¡Œæ ‡ç­¾é¡µæ•´ä½“å¸ƒå±€
- æ¨¡å¼é€‰æ‹©å™¨æ ·å¼
- æµ‹è¯•é…ç½®è¡¨æ ¼æ ·å¼
- ç‰ˆæœ¬é€‰æ‹©å™¨æ ·å¼
- æµ‹è¯•ç»“æœå¡ç‰‡æ ·å¼
- åŸå§‹/ç»“æ„åŒ–ç»“æœåˆ‡æ¢æ ·å¼

#### 1.3 ä¸»ç»„ä»¶ï¼ˆPromptManagementModal.tsxï¼‰

**æ ‡ç­¾é¡µç»“æ„è°ƒæ•´ï¼š**
- å°† `activeTab` ç±»å‹ä» `'prompts' | 'tests' | 'evaluation'` æ”¹ä¸º `'prompts' | 'testcases' | 'evaluation' | 'execution'`
- æ›´æ–°æ ‡ç­¾æŒ‰é’®åç§°ï¼š
  1. ğŸ¯ åŠŸèƒ½æç¤ºè¯
  2. ğŸ§ª æµ‹è¯•ç”¨ä¾‹
  3. â­ è¯„ä¼°æç¤ºè¯
  4. â–¶ï¸ æµ‹è¯•æ‰§è¡Œ

**æ–°å¢çŠ¶æ€å˜é‡ï¼š**
```typescript
- executionMode: 'single' | 'batch' | 'category'
- testConfigs: TestConfig[]
- selectedTestCases: number[]
- availableTestCases: TestCase[]
- selectedCategoryForExecution: string
- executionResults: TestExecutionResult[]
- isExecuting: boolean
- isRestoring: boolean
```

**æ–°å¢å‡½æ•°ï¼ˆå…±13ä¸ªï¼‰ï¼š**
1. `loadAvailableTestCases()` - åŠ è½½å¯ç”¨æµ‹è¯•ç”¨ä¾‹
2. `addTestCaseToConfig()` - æ·»åŠ æµ‹è¯•ç”¨ä¾‹åˆ°é…ç½®è¡¨æ ¼
3. `removeTestConfig()` - ç§»é™¤æµ‹è¯•é…ç½®
4. `updateConfigPromptVersion()` - æ›´æ–°æç¤ºè¯ç‰ˆæœ¬é€‰æ‹©
5. `updateConfigEvaluatorVersion()` - æ›´æ–°è¯„ä¼°å™¨ç‰ˆæœ¬é€‰æ‹©
6. `getAvailablePromptVersions()` - è·å–å¯é€‰æç¤ºè¯ç‰ˆæœ¬
7. `getAvailableEvaluatorVersions()` - è·å–å¯é€‰è¯„ä¼°å™¨ç‰ˆæœ¬
8. `handleRunTests()` - æ‰§è¡Œæµ‹è¯•
9. `handleRestoreTestEnvironment()` - æ¢å¤æµ‹è¯•ç¯å¢ƒ
10. `parseEvaluationResult()` - è§£æè¯„ä¼°ç»“æœ

**æµ‹è¯•æ‰§è¡Œæ ‡ç­¾é¡µUIï¼ˆ320è¡Œä»£ç ï¼‰ï¼š**
- æ¨¡å¼é€‰æ‹©å™¨ï¼ˆå•ä¸ª/æ‰¹é‡/æŒ‰ç±»åˆ«ï¼‰
- æµ‹è¯•ç”¨ä¾‹é€‰æ‹©ç•Œé¢ï¼ˆæ ¹æ®æ¨¡å¼åŠ¨æ€åˆ‡æ¢ï¼‰
- æµ‹è¯•é…ç½®è¡¨æ ¼ï¼ˆæ”¯æŒç‰ˆæœ¬é€‰æ‹©ã€çŠ¶æ€æ˜¾ç¤ºï¼‰
- æµ‹è¯•æ“ä½œæŒ‰é’®ï¼ˆè¿è¡Œæµ‹è¯•ã€æ¢å¤ç¯å¢ƒï¼‰
- æµ‹è¯•ç»“æœå±•ç¤ºåŒºï¼ˆæ”¯æŒåŸå§‹æ–‡æœ¬/ç»“æ„åŒ–è§£æåˆ‡æ¢ï¼‰

### 2. åç«¯å®ç°

#### 2.1 æµ‹è¯•ç”¨ä¾‹è·¯ç”±ï¼ˆtest_case_routes.pyï¼‰

**æ–°å¢å¯¼å…¥ï¼š**
- `time` - ç”¨äºæ—¶é—´æˆ³å’Œè®¡æ—¶
- `PromptManager` - ç”¨äºæç¤ºè¯ç®¡ç†

**æ–°å¢è¾…åŠ©å‡½æ•°ï¼ˆå…±5ä¸ªï¼‰ï¼š**

1. `_get_test_case(test_case_id)` - è·å–æµ‹è¯•ç”¨ä¾‹è¯¦æƒ…
2. `_get_prompt_by_id(prompt_id)` - è·å–æç¤ºè¯è¯¦æƒ…
3. `_execute_test_logic_mock(test_case, prompt_template_id)` - æ¨¡æ‹Ÿæµ‹è¯•æ‰§è¡Œ
4. `_evaluate_result_mock(test_case, llm_response, evaluator_prompt_id)` - æ¨¡æ‹Ÿè¯„ä¼°
5. `_save_execution_record(...)` - ä¿å­˜æµ‹è¯•æ‰§è¡Œè®°å½•åˆ°æ•°æ®åº“

**ä¿®æ”¹APIç«¯ç‚¹ï¼š**

`POST /admin/test-cases/batch-execute` - æ‰¹é‡æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹
- æ¥æ”¶å‚æ•°ï¼š`executions` æ•°ç»„ï¼Œæ¯é¡¹åŒ…å« `test_case_id`, `prompt_template_id`, `evaluator_prompt_id`
- æ‰§è¡Œæµç¨‹ï¼š
  1. è·å–æµ‹è¯•ç”¨ä¾‹è¯¦æƒ…
  2. æ‰§è¡Œæµ‹è¯•é€»è¾‘ï¼ˆå½“å‰ä¸ºæ¨¡æ‹Ÿç‰ˆæœ¬ï¼‰
  3. ä½¿ç”¨è¯„ä¼°å™¨è¯„ä¼°ç»“æœï¼ˆå½“å‰ä¸ºæ¨¡æ‹Ÿç‰ˆæœ¬ï¼‰
  4. ä¿å­˜æ‰§è¡Œè®°å½•åˆ°æ•°æ®åº“
  5. è¿”å›æ‰§è¡Œç»“æœ
- è¿”å›æ•°æ®ï¼š
  ```json
  {
    "ok": true,
    "results": [...],
    "total": 5,
    "succeeded": 4,
    "failed": 1
  }
  ```

## åŠŸèƒ½ç‰¹æ€§

### 1. çµæ´»çš„æµ‹è¯•æ¨¡å¼
- **å•ä¸ªæ¨¡å¼**ï¼šé€šè¿‡ä¸‹æ‹‰é€‰æ‹©å•ä¸ªæµ‹è¯•ç”¨ä¾‹
- **æ‰¹é‡æ¨¡å¼**ï¼šé€šè¿‡å¤é€‰æ¡†å¤šé€‰æµ‹è¯•ç”¨ä¾‹
- **ç±»åˆ«æ¨¡å¼**ï¼šé€‰æ‹©ç±»åˆ«åä¸€æ¬¡æ€§æ·»åŠ è¯¥ç±»åˆ«æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹

### 2. å®Œæ•´çš„ç‰ˆæœ¬æ§åˆ¶
- ä¸ºæ¯ä¸ªæµ‹è¯•é…ç½®ç‹¬ç«‹é€‰æ‹©æç¤ºè¯ç‰ˆæœ¬
- ä¸ºæ¯ä¸ªæµ‹è¯•é…ç½®ç‹¬ç«‹é€‰æ‹©è¯„ä¼°å™¨ç‰ˆæœ¬
- è‡ªåŠ¨è¿‡æ»¤åŒ¹é…çš„ç‰ˆæœ¬ï¼ˆæ ¹æ®ç±»åˆ«å’Œå­ç±»åˆ«ï¼‰

### 3. å®æ—¶çŠ¶æ€è·Ÿè¸ª
- æµ‹è¯•é…ç½®çŠ¶æ€ï¼šå¾…æ‰§è¡Œ â³ã€æ‰§è¡Œä¸­ ğŸ”„ã€å®Œæˆ âœ…ã€å¤±è´¥ âŒ
- è¿›åº¦æç¤ºå’Œç¦ç”¨çŠ¶æ€

### 4. æ™ºèƒ½è¯„ä¼°ç»“æœå±•ç¤º
- **åŸå§‹æ–‡æœ¬æ¨¡å¼**ï¼šç›´æ¥æ˜¾ç¤ºè¯„ä¼°å™¨è¿”å›çš„æ–‡æœ¬
- **ç»“æ„åŒ–æ¨¡å¼**ï¼šè§£æå¹¶ç¾åŒ–å±•ç¤ºï¼ˆè¯„åˆ†ã€ä¼˜ç‚¹ã€ç¼ºç‚¹ã€å»ºè®®ã€è¯¦ç»†ä¿¡æ¯ï¼‰
- æ”¯æŒä¸­è‹±æ–‡å­—æ®µè§£æ

### 5. æµ‹è¯•ç¯å¢ƒç®¡ç†
- **æ¢å¤åŠŸèƒ½**ï¼šä¸€é”®æ¸…é™¤æ‰€æœ‰æµ‹è¯•è§’è‰²å’Œç¾¤èŠçš„è®°å¿†åŠæ¶ˆæ¯
- äºŒæ¬¡ç¡®è®¤é˜²æ­¢è¯¯æ“ä½œ
- æ‰¹é‡å¤„ç†å¤šä¸ªtarget

## æ•°æ®æµ

### æ‰§è¡Œæµç¨‹
```
1. ç”¨æˆ·é…ç½®æµ‹è¯•
   â†“
2. é€‰æ‹©æç¤ºè¯ç‰ˆæœ¬ + è¯„ä¼°å™¨ç‰ˆæœ¬
   â†“
3. ç‚¹å‡»"è¿è¡Œæµ‹è¯•"
   â†“
4. å‰ç«¯å‘é€æ‰¹é‡æ‰§è¡Œè¯·æ±‚
   â†“
5. åç«¯é€ä¸ªæ‰§è¡Œæµ‹è¯•ï¼š
   - è·å–æµ‹è¯•ç”¨ä¾‹è¯¦æƒ…
   - æ‰§è¡Œæµ‹è¯•é€»è¾‘
   - è°ƒç”¨è¯„ä¼°å™¨è¯„ä¼°
   - ä¿å­˜æ‰§è¡Œè®°å½•
   â†“
6. è¿”å›æ‰§è¡Œç»“æœ
   â†“
7. å‰ç«¯å±•ç¤ºç»“æœï¼ˆæ”¯æŒä¸¤ç§æ¨¡å¼ï¼‰
```

### æ¢å¤æµç¨‹
```
1. ç”¨æˆ·ç‚¹å‡»"æ¢å¤æµ‹è¯•ç¯å¢ƒ"
   â†“
2. ç¡®è®¤æ“ä½œ
   â†“
3. æ”¶é›†æ‰€æœ‰æµ‹è¯•é…ç½®ä¸­çš„targetä¿¡æ¯
   â†“
4. æ‰¹é‡è°ƒç”¨æ¢å¤APIï¼š
   - /admin/test-cases/reset-character/{id}
   - /admin/test-cases/reset-group/{id}
   â†“
5. æ˜¾ç¤ºæ¢å¤ç»“æœç»Ÿè®¡
```

## æŠ€æœ¯äº®ç‚¹

### 1. åŠ¨æ€UIé€‚é…
æ ¹æ®æ‰§è¡Œæ¨¡å¼è‡ªåŠ¨åˆ‡æ¢UIï¼š
- å•ä¸ªæ¨¡å¼ï¼šä¸‹æ‹‰é€‰æ‹©
- æ‰¹é‡æ¨¡å¼ï¼šå¤é€‰æ¡†åˆ—è¡¨ + "æ·»åŠ é€‰ä¸­"æŒ‰é’®
- ç±»åˆ«æ¨¡å¼ï¼šç±»åˆ«é€‰æ‹© + "æ·»åŠ å…¨éƒ¨"æŒ‰é’®

### 2. æ™ºèƒ½ç‰ˆæœ¬è¿‡æ»¤
```typescript
function getAvailablePromptVersions(config: TestConfig) {
  return prompts.filter(p => 
    p.category === config.promptCategory && 
    (!config.promptSubCategory || p.sub_category === config.promptSubCategory)
  )
}
```

### 3. å¤šè¯­è¨€è¯„ä¼°ç»“æœè§£æ
```typescript
function parseEvaluationResult(result: any): ParsedEvaluationResult {
  return {
    score: result.score || result.æ€»åˆ† || result.è¯„åˆ†,
    strengths: result.strengths || result.ä¼˜ç‚¹ || result.äº®ç‚¹,
    weaknesses: result.weaknesses || result.ç¼ºç‚¹ || result.ä¸è¶³,
    suggestions: result.suggestions || result.å»ºè®® || result.æ”¹è¿›å»ºè®®,
    // ...
  }
}
```

### 4. çŠ¶æ€ç®¡ç†ä¼˜åŒ–
ä½¿ç”¨å¤šä¸ªçŠ¶æ€å˜é‡åˆ†ç¦»å…³æ³¨ç‚¹ï¼š
- `testConfigs` - é…ç½®æ•°æ®
- `executionResults` - ç»“æœæ•°æ®
- `isExecuting` - æ‰§è¡ŒçŠ¶æ€
- `isRestoring` - æ¢å¤çŠ¶æ€

## å½“å‰é™åˆ¶ä¸åç»­ä¼˜åŒ–

### å½“å‰å®ç°ï¼ˆæ¨¡æ‹Ÿç‰ˆæœ¬ï¼‰
- âœ… å®Œæ•´çš„UIäº¤äº’
- âœ… ç‰ˆæœ¬é€‰æ‹©å’Œé…ç½®ç®¡ç†
- âœ… æ•°æ®åº“è®°å½•ä¿å­˜
- âš ï¸ æµ‹è¯•æ‰§è¡Œé€»è¾‘ä¸ºæ¨¡æ‹Ÿï¼ˆè¿”å›å›ºå®šå“åº”ï¼‰
- âš ï¸ è¯„ä¼°é€»è¾‘ä¸ºæ¨¡æ‹Ÿï¼ˆè¿”å›å›ºå®šè¯„åˆ†ï¼‰

### åç»­ä¼˜åŒ–è®¡åˆ’

#### é˜¶æ®µäº”ï¼šå®é™…æµ‹è¯•æ‰§è¡Œé›†æˆ
éœ€è¦å®ç° `_execute_test_logic_mock` çš„å®é™…ç‰ˆæœ¬ï¼š

1. **å•èŠæµ‹è¯•ï¼ˆSINGLE_CHATï¼‰**
   ```python
   if target_type == 'character':
       # è°ƒç”¨å•èŠAPI
       from fastnpc.api.routes.chat_routes import handle_chat
       response = await handle_chat(user_id, target_id, test_content['messages'])
       return response
   ```

2. **ç¾¤èŠæµ‹è¯•ï¼ˆGROUP_CHATï¼‰**
   ```python
   elif target_type == 'group':
       # è°ƒç”¨ç¾¤èŠAPI
       from fastnpc.api.routes.group_routes import handle_group_chat
       response = await handle_group_chat(user_id, target_id, test_content['messages'])
       return response
   ```

3. **ç»“æ„åŒ–ç”Ÿæˆæµ‹è¯•ï¼ˆSTRUCTURED_GENï¼‰**
   ```python
   elif category == 'STRUCTURED_GEN':
       # è°ƒç”¨ç»“æ„åŒ–ç”Ÿæˆ
       from fastnpc.pipeline.structure.prompts import generate_structured_persona
       result = await generate_structured_persona(test_content['raw_text'])
       return result
   ```

4. **ç®€ä»‹ç”Ÿæˆæµ‹è¯•ï¼ˆBRIEF_GENï¼‰**
   ```python
   elif category == 'BRIEF_GEN':
       # è°ƒç”¨ç®€ä»‹ç”Ÿæˆ
       from fastnpc.pipeline.structure.prompts import generate_persona_brief
       result = await generate_persona_brief(test_content['structured_data'])
       return result
   ```

#### é˜¶æ®µå…­ï¼šå®é™…LLMè¯„ä¼°
éœ€è¦å®ç° `_evaluate_result_mock` çš„å®é™…ç‰ˆæœ¬ï¼š

```python
async def _evaluate_result(test_case, llm_response, evaluator_prompt_id):
    from fastnpc.llm.openrouter import get_openrouter_completion_async
    
    # è·å–è¯„ä¼°å™¨æç¤ºè¯
    evaluator = _get_prompt_by_id(evaluator_prompt_id)
    
    # æ¸²æŸ“è¯„ä¼°æç¤ºè¯ï¼ˆæ›¿æ¢å˜é‡ï¼‰
    eval_prompt = PromptManager.render_prompt(
        evaluator['template_content'],
        {
            'test_case_name': test_case['name'],
            'expected_behavior': test_case.get('expected_behavior', ''),
            'actual_output': llm_response,
            'test_content': json.dumps(test_case['test_content'])
        }
    )
    
    # è°ƒç”¨LLMè¿›è¡Œè¯„ä¼°
    eval_response = await get_openrouter_completion_async([
        {"role": "user", "content": eval_prompt}
    ])
    
    # å°è¯•è§£æä¸ºJSON
    try:
        evaluation_result = json.loads(eval_response)
    except:
        evaluation_result = {"raw": eval_response}
    
    return evaluation_result, eval_response
```

## éªŒè¯æ¸…å•

- [x] å‰ç«¯æ˜¾ç¤º4ä¸ªæ ‡ç­¾é¡µï¼Œåç§°æ­£ç¡®
- [x] ç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µåªæ˜¾ç¤ºæç¤ºè¯ç¼–è¾‘ï¼ˆæµ‹è¯•åŠŸèƒ½å·²ç§»é™¤ï¼‰
- [x] ç¬¬äºŒä¸ªæ ‡ç­¾é¡µæ­£å¸¸æ˜¾ç¤ºæµ‹è¯•ç”¨ä¾‹ç®¡ç†
- [x] ç¬¬ä¸‰ä¸ªæ ‡ç­¾é¡µæ­£å¸¸æ˜¾ç¤ºè¯„ä¼°æç¤ºè¯ç®¡ç†
- [x] ç¬¬å››ä¸ªæ ‡ç­¾é¡µæ˜¾ç¤ºæµ‹è¯•æ‰§è¡Œç•Œé¢
- [x] å¯ä»¥åœ¨ä¸‰ç§æ¨¡å¼é—´åˆ‡æ¢ï¼ˆå•ä¸ª/æ‰¹é‡/ç±»åˆ«ï¼‰
- [x] å¯ä»¥å°†æµ‹è¯•ç”¨ä¾‹æ·»åŠ åˆ°é…ç½®è¡¨æ ¼
- [x] é…ç½®è¡¨æ ¼ä¸­å¯ä»¥é€‰æ‹©æç¤ºè¯ç‰ˆæœ¬
- [x] é…ç½®è¡¨æ ¼ä¸­å¯ä»¥é€‰æ‹©è¯„ä¼°å™¨ç‰ˆæœ¬
- [x] ç‚¹å‡»"è¿è¡Œæµ‹è¯•"å¯ä»¥æ‰§è¡Œï¼ˆæ¨¡æ‹Ÿç‰ˆæœ¬ï¼‰
- [x] æ‰§è¡Œè¿‡ç¨‹ä¸­æ˜¾ç¤ºè¿›åº¦çŠ¶æ€
- [x] æµ‹è¯•å®Œæˆåæ˜¾ç¤ºç»“æœ
- [x] ç»“æœæ”¯æŒåŸå§‹æ–‡æœ¬å’Œç»“æ„åŒ–ä¸¤ç§å±•ç¤ºæ¨¡å¼
- [x] ç‚¹å‡»"æ¢å¤æµ‹è¯•ç¯å¢ƒ"å¯ä»¥æ¸…é™¤è§’è‰²/ç¾¤èŠçŠ¶æ€
- [x] åç«¯APIæ­£å¸¸æ¥æ”¶è¯·æ±‚
- [x] åç«¯APIæ­£å¸¸ä¿å­˜è®°å½•åˆ°æ•°æ®åº“
- [x] æ‰¹é‡æ‰§è¡Œæ­£å¸¸å·¥ä½œ
- [x] æµ‹è¯•è®°å½•æ­£ç¡®ä¿å­˜åˆ°æ•°æ®åº“

## æ–‡ä»¶ä¿®æ”¹æ¸…å•

### æ–°å¢æ–‡ä»¶
- `docs/TEST_EXECUTION_IMPLEMENTATION.md` - æœ¬æ–‡æ¡£

### ä¿®æ”¹æ–‡ä»¶
1. **å‰ç«¯ï¼ˆ3ä¸ªæ–‡ä»¶ï¼‰**
   - `web/fastnpc-web/src/types.ts` (+47 lines) - æ–°å¢ç±»å‹å®šä¹‰
   - `web/fastnpc-web/src/components/modals/PromptManagementModal.css` (+377 lines) - æ–°å¢æ ·å¼
   - `web/fastnpc-web/src/components/modals/PromptManagementModal.tsx` (+587 lines) - ä¸»è¦UIå®ç°

2. **åç«¯ï¼ˆ1ä¸ªæ–‡ä»¶ï¼‰**
   - `fastnpc/api/routes/test_case_routes.py` (+190 lines) - APIå®ç°

### ä»£ç ç»Ÿè®¡
- å‰ç«¯æ–°å¢ä»£ç ï¼šçº¦1011è¡Œ
- åç«¯æ–°å¢ä»£ç ï¼šçº¦190è¡Œ
- CSSæ–°å¢ä»£ç ï¼šçº¦377è¡Œ
- **æ€»è®¡ï¼šçº¦1578è¡Œ**

## ä½¿ç”¨è¯´æ˜

### åŸºæœ¬æµç¨‹

1. **æ‰“å¼€æµ‹è¯•æ‰§è¡Œæ ‡ç­¾é¡µ**
   - ç‚¹å‡»ç®¡ç†å‘˜é¢æ¿çš„"ğŸ¯ æç¤ºè¯ä¸æµ‹è¯•ç®¡ç†"æŒ‰é’®
   - ç‚¹å‡»"â–¶ï¸ æµ‹è¯•æ‰§è¡Œ"æ ‡ç­¾

2. **é€‰æ‹©æ‰§è¡Œæ¨¡å¼**
   - å•ä¸ªæµ‹è¯•ï¼šé€‚åˆè°ƒè¯•å•ä¸ªæµ‹è¯•ç”¨ä¾‹
   - æ‰¹é‡æµ‹è¯•ï¼šé€‚åˆæ‰§è¡Œå¤šä¸ªé€‰ä¸­çš„æµ‹è¯•ç”¨ä¾‹
   - æŒ‰ç±»åˆ«æµ‹è¯•ï¼šé€‚åˆæ‰§è¡ŒæŸä¸€ç±»åˆ«çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹

3. **é…ç½®æµ‹è¯•**
   - é€‰æ‹©æˆ–æ·»åŠ æµ‹è¯•ç”¨ä¾‹åˆ°é…ç½®è¡¨æ ¼
   - ä¸ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹é€‰æ‹©æç¤ºè¯ç‰ˆæœ¬
   - ä¸ºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹é€‰æ‹©è¯„ä¼°å™¨ç‰ˆæœ¬

4. **è¿è¡Œæµ‹è¯•**
   - ç‚¹å‡»"â–¶ï¸ è¿è¡Œæµ‹è¯•"æŒ‰é’®
   - ç­‰å¾…æµ‹è¯•æ‰§è¡Œå®Œæˆ
   - æŸ¥çœ‹æµ‹è¯•ç»“æœ

5. **æŸ¥çœ‹ç»“æœ**
   - åœ¨ç»“æœå¡ç‰‡ä¸­æŸ¥çœ‹è¯„åˆ†å’ŒçŠ¶æ€
   - åˆ‡æ¢"åŸå§‹è¯„ä¼°"å’Œ"ç»“æ„åŒ–è§£æ"è§†å›¾
   - æŸ¥çœ‹è¯¦ç»†çš„ä¼˜ç‚¹ã€ç¼ºç‚¹å’Œå»ºè®®

6. **æ¢å¤ç¯å¢ƒï¼ˆå¯é€‰ï¼‰**
   - å¦‚éœ€é‡æ–°æµ‹è¯•ï¼Œç‚¹å‡»"ğŸ”„ æ¢å¤æµ‹è¯•ç¯å¢ƒ"
   - ç¡®è®¤æ“ä½œåï¼Œç›¸å…³è§’è‰²å’Œç¾¤èŠçš„çŠ¶æ€å°†è¢«æ¸…é™¤

## æ³¨æ„äº‹é¡¹

1. **ç‰ˆæœ¬é€‰æ‹©**
   - æç¤ºè¯ç‰ˆæœ¬ä¼šæ ¹æ®æµ‹è¯•ç”¨ä¾‹çš„`prompt_category`å’Œ`prompt_sub_category`è‡ªåŠ¨è¿‡æ»¤
   - è¯„ä¼°å™¨ç‰ˆæœ¬ä¼šæ ¹æ®æµ‹è¯•ç±»åˆ«è‡ªåŠ¨æ˜ å°„åˆ°å¯¹åº”çš„è¯„ä¼°å™¨ç±»åˆ«

2. **æ‰§è¡ŒçŠ¶æ€**
   - æ‰§è¡Œè¿‡ç¨‹ä¸­æ— æ³•ä¿®æ”¹é…ç½®æˆ–æ·»åŠ æ–°æµ‹è¯•
   - å¯ä»¥åœ¨æ‰§è¡Œå®Œæˆåç»§ç»­æ·»åŠ æµ‹è¯•

3. **æ¢å¤æ“ä½œ**
   - æ¢å¤æ“ä½œä¼šæ°¸ä¹…åˆ é™¤æ•°æ®ï¼Œè¯·è°¨æ…ä½¿ç”¨
   - ç³»ç»Ÿä¼šæ˜¾ç¤ºäºŒæ¬¡ç¡®è®¤å¯¹è¯æ¡†

4. **æ¨¡æ‹Ÿæ¨¡å¼**
   - å½“å‰ç‰ˆæœ¬çš„æµ‹è¯•æ‰§è¡Œå’Œè¯„ä¼°ä¸ºæ¨¡æ‹Ÿæ¨¡å¼
   - å®é™…åŠŸèƒ½é›†æˆéœ€è¦åœ¨åç»­é˜¶æ®µå®Œæˆ

## ç›¸å…³æ–‡æ¡£

- [æç¤ºè¯ç®¡ç†ç³»ç»Ÿæ–‡æ¡£](./PROMPT_VERSIONING_STATUS.md)
- [æ•°æ®åº“ç®¡ç†æŒ‡å—](./DATABASE_MANAGEMENT.md)
- [é¡¹ç›®ä¼˜åŒ–æŠ¥å‘Š](../OPTIMIZATION_REPORT.md)

## è”ç³»ä¿¡æ¯

å¦‚æœ‰é—®é¢˜æˆ–éœ€è¦è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œè¯·å‚è€ƒï¼š
- è®¡åˆ’æ–‡æ¡£ï¼š`.cursor/plans/*.plan.md`
- ä»£ç æ³¨é‡Šï¼šè¯¦ç»†çš„TODOå’Œå®ç°è¯´æ˜

